<!DOCTYPE html>
<head>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
</head>
<style>
  body {
  margin: 0;
  padding: 0;
  height: auto;
  font-family: "Open Sans", sans-serif;
  /*Background code*/
  -webkit-animation: bgcolor 20s infinite;
  animation: bgcolor 10s infinite;
  -webkit-animation-direction: alternate;
  animation-direction: alternate;
  }

  /*Background code*/
  @keyframes bgcolor {
    0% {
      background-color: #45a3e6;
    }

    30% {
      background-color: #66bf38;
    }

    60% {
      background-color: #eb671f;
    }

    90% {
      background-color: #f36;
    }

    100% {
      background-color: #865cbf;
    }
  }

  /*Main Content improve my password*/
  #Main-Content h1 {
    font-size: 50px;
  }

  #Main-Content h3 {
    font-size: 15px;
  }

  #Password_Input {
    margin: auto;
    display: block;
    text-align: center;
    background: rgba(250, 250, 250, 1);
    border: none;
    width: 90%;
    height: auto;
    padding: 2ch;
    font-size: 35px;
  }

  textarea:focus,
  input:focus {
    outline: none;
  }

  /*Adjust for media screen*/
  @media screen and (max-width: 660px) {
    .topnav-right {
      display: none;
    }
  }

  /*Content*/
  .Content {
    width: auto;
    height: auto;
    padding: 15px 30px;
    margin: 100px;
    background-color: lightgrey;
    text-align: center;
    font-size: auto;
  }

  #Suggestion_1, #Suggestion_2, #Suggestion_3 {
    font-size: 25px;
  }


</style>
<body>

  <div id="Main-Content" class="Content">
      <h1>Improve My Password</h1>
      <div id="ImproveMyPassword">
          <h3 id="Intro_1">
              Enter your base password in the input box below, and examine the suggested improvements.
          </h3>
          <br>
          <br>
          <div id="Password_Box">
              <input type="text" id="Password_Input" maxlength="20" placeholder="Enter Your Password">
          </div>
          <br>
          <p id="Required_Length_Message" hidden>Password must be at least 8 characters!</p>
          <p id="Suggestion_Title_1" hidden>New Great Password:</p>
          <p id="Suggestion_1"></p>
          <br>
          <p id="Suggestion_Title_2" hidden>New Amazing Password:</p>
          <p id="Suggestion_2"></p>
          <br>
          <p id="Suggestion_Title_3" hidden>New Impossible Password:</p>
          <p id="Suggestion_3"></p>
          <br>
      </div>
  </div>

</body>

<script>
  $(document).ready(function(){
    $("#Password_Input").on("input", function(){
        //Variables for The users input password and its length
        var Input_Password = $("#Password_Input").val();
        var Password_length = Input_Password.length;

        //Arrays
        const Special_Characters_Array = ["!", "@", "#", "%", "^", "&", "*", "(", ")", "-", "_", "-", "+", "="];
        const Numbers_Array = ["1", "2", "3", "4", "5", "6", "7", "8", "9", "0"];
        const Uppercase_Array = ["A", "B", "C", "D", "E", "F", "G", "H", "I", "J", "K", "L", "M", "N", "O", "P", "Q", "R", "S", "T", "U", "V", "W", "X", "Y", "Z"];
        const Lowercase_Array = ["a", "b", "c", "d", "e", "f", "g", "h", "i", "j", "k", "l", "m", "n", "o", "p", "q", "r", "s", "t", "u", "v", "w", "x", "y", "z"];

        var Password_Analysis = Check_Password_Length(Input_Password);

        if(Password_length >= 8)
        {
          Improved_Password_1(Password_Analysis, Input_Password, Password_length);
          Improved_Password_2(Password_Analysis, Input_Password, Password_length);
          Improved_Password_3(Password_Analysis, Input_Password, Password_length);
        }
        if(Password_length == 0)
        {
          //Special case to 
          //Hide/clear Suggestions titles
          $("#Suggestion_Title_1").hide();
          $("#Suggestion_Title_2").hide();
          $("#Suggestion_Title_3").hide();
        }

        function Check_Password_Length(Input_Password)
        {
          if((Password_length < 8) && (Password_length != 0))
          {
            //Show length message
            $("#Required_Length_Message").show();
            //Hide/clear Suggestions
            $("#Suggestion_Title_1").hide();
            document.getElementById("Suggestion_1").innerHTML = "";

            $("#Suggestion_Title_2").hide();
            document.getElementById("Suggestion_2").innerHTML = "";

            $("#Suggestion_Title_3").hide();
            document.getElementById("Suggestion_3").innerHTML = "";

            return null;
          }
          else
          {
            //Hide length message
            $("#Required_Length_Message").hide();
            //Show Suggestions
            $("#Suggestion_Title_1").show();
            $("#Suggestion_Title_2").show();
            $("#Suggestion_Title_3").show();

            var GetCounts = Check_Special_Num_Alpha(Input_Password, Password_length);
            return{
              Special: GetCounts.Special, Number: GetCounts.Number, Uppercase: GetCounts.Uppercase, Lowercase: GetCounts.Lowercase,
            };
          }
        }

        function Check_Special_Num_Alpha(Input_Password, Password_length)
        {
          var Special_Character_Count = 0;
          var Number_Count = 0;
          var Uppercase_Count = 0;
          var Lowercase_Count = 0;

          for(let i =0; i <= Password_length; i++)
          {
            if(Special_Characters_Array.includes(Input_Password[i]))
            {
              Special_Character_Count = Special_Character_Count + 1;
            }
            if(Numbers_Array.includes(Input_Password[i]))
            {
              Number_Count = Number_Count + 1;
            }
            if(Uppercase_Array.includes(Input_Password[i]))
            {
              Uppercase_Count = Uppercase_Count + 1;
            }
            if(Lowercase_Array.includes(Input_Password[i]))
            {
              Lowercase_Count = Lowercase_Count + 1;
            }
          }

          return{
            Special: Special_Character_Count, Number: Number_Count, Uppercase: Uppercase_Count, Lowercase: Lowercase_Count,
          };
        }

        function Generate_Rand_Characters(Selected_Array, Number_Of_Characters)
        {
          var Random_String = "";
          for(var i = 1; i <= Number_Of_Characters; i++)
          {
            Random_String = Random_String + Selected_Array[Math.floor(Math.random() * Selected_Array.length)];
          }
          return Random_String;
        }

        ///
        /// Password 1
        ///
        function Improved_Password_1(Password_Analysis, Input_Password, Password_length)
        {
          debugger;
          var New_Password = "";

          if(Password_Analysis.Special < 1)
          {
            New_Password = New_Password + Generate_Rand_Characters(Special_Characters_Array, 1);
          }

          if(Password_Analysis.Number < 1)
          {
            New_Password = New_Password + Generate_Rand_Characters(Numbers_Array, 1);
          }

          if(Password_Analysis.Lowercase < 1)
          {
            New_Password = New_Password + Generate_Rand_Characters(Lowercase_Array, 1);
          }

          if(Password_Analysis.Uppercase < 1)
          {
            New_Password = New_Password + Generate_Rand_Characters(Uppercase_Array, 1);
          }

          if((Password_Analysis.Special >= 1) && (Password_Analysis.Number >= 1) && (Password_Analysis.Lowercase >= 1) && (Password_Analysis.Uppercase >= 1))
          {
            New_Password = New_Password + Generate_Rand_Characters(Special_Characters_Array, Math.floor(Math.random() * 3));
          }

          New_Password = Input_Password + New_Password;
          document.getElementById("Suggestion_1").innerHTML = New_Password;
        }


        ///
        /// Password 2
        ///
        function Improved_Password_2(Password_Analysis, Input_Password, Password_length)
        {
          var n = 2;
          var New_Password = "";

          if(Password_Analysis.Special < n)
          {
            New_Password = New_Password + Generate_Rand_Characters(Special_Characters_Array, (n - Password_Analysis.Special));
          }

          if(Password_Analysis.Number < n)
          {
            New_Password = New_Password + Generate_Rand_Characters(Numbers_Array, (n - Password_Analysis.Number));
          }

          if(Password_Analysis.Lowercase < n)
          {
            New_Password = New_Password + Generate_Rand_Characters(Lowercase_Array, (n - Password_Analysis.Lowercase));
          }

          if(Password_Analysis.Uppercase < n)
          {
            New_Password = New_Password + Generate_Rand_Characters(Uppercase_Array, (n - Password_Analysis.Uppercase));
          }

          if((Password_Analysis.Special >= n) && (Password_Analysis.Number >= n) && (Password_Analysis.Lowercase >= n) && (Password_Analysis.Uppercase >= n))
          {
            New_Password = New_Password + Generate_Rand_Characters(Special_Characters_Array, Math.floor(Math.random() * 3));
          }

          New_Password = New_Password + Input_Password;
          document.getElementById("Suggestion_2").innerHTML = New_Password;
        }

        ///
        /// Password 3
        ///
        function Improved_Password_3(Password_Analysis, Input_Password, Password_length)
        {
          var n = 3;
          var New_Password = "";

          if(Password_Analysis.Special < n)
          {
            New_Password = New_Password + Generate_Rand_Characters(Special_Characters_Array, (n - Password_Analysis.Special));
          }

          if(Password_Analysis.Number < n)
          {
            New_Password = New_Password + Generate_Rand_Characters(Numbers_Array, (n - Password_Analysis.Number));
          }

          if(Password_Analysis.Lowercase < n)
          {
            New_Password = New_Password + Generate_Rand_Characters(Lowercase_Array, (n - Password_Analysis.Lowercase));
          }

          if(Password_Analysis.Uppercase < n)
          {
            New_Password = New_Password + Generate_Rand_Characters(Uppercase_Array, (n - Password_Analysis.Uppercase));
          }

          if((Password_Analysis.Special >= n) && (Password_Analysis.Number >= n) && (Password_Analysis.Lowercase >= n) && (Password_Analysis.Uppercase >= n))
          {
            New_Password = New_Password + Generate_Rand_Characters(Special_Characters_Array, Math.floor(Math.random() * 3));
          }

          New_Password = New_Password + Input_Password + Generate_Rand_Characters(Special_Characters_Array, Math.floor(Math.random() * 3));
          document.getElementById("Suggestion_3").innerHTML = New_Password;
        }
    });
  });


</script>
</html>